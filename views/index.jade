extends layout

block content
  .container-fluid

    h1
        svg(width="700px", height="145px", version="1.1", xmlns="http://www.w3.org/2000/svg", xmlns:xlink="http://www.w3.org/1999/xlink")
            image(xlink:href="/assets/logo.svg", x="0", y="0", width="700px", height="145px")

        p.tagline We take puns very seriously.

    p.description The Punboard is populated when someone replies to a pun they see on Twitter and tweet back with #punboard and #groan (which is good, like a groan of approval) or #sadtrombone (which is a vote of "come on now, you can do better than that").

      .leaderboard
        each person, l in leaderboard
          - var klass = (l === 0 ? 'tweets gold' : 'tweets')
          if (l === 0)
            .number-one
              h1 Numbah One Punnah!

          div(class=klass)
            - var tweets = ''
            each tweet, t in person.puns
              - tweets+=tweet.tweet.id_str+','
            .tweet(data-tweets=tweets)
              - var img = person.author.profile_image_url.replace(/_normal\./, '_bigger.')
              .img-container
                img.profile-img(src="#{img}", alt="#{person.author.screen_name}")
                .pun-star.clownscore
                  span #{person.stats.clown}
              .punner
                h1 @#{person.author.screen_name}
                .puns
                  span Puns: #{person.stats.puns} &nbsp;
                    a(href="#", class="open-tweets") (view puns)
              .groans
                span #{person.stats.groan}
                h1 #groan
                  i.fa.fa-thumbs-o-up
              .trombones
                span #{person.stats.trombone}
                h1 #sadtrombone
                  i.fa.fa-thumbs-o-down
              .tweet-text
              .close-tweet-text
                a.close-it(href="#") &times; close puns


    p The Punboard is a real-time leaderboard of who the top pun-makers are on Twitter. People get ranked up (punted) or down (punished) based on their Klown Score, which is like a Klout Score, but a lot more relevant.

    p Through a proprietary algorithm written by a PhD in CS (Clown Science), these #groans, #sadtrombones, number of votes and number of puns are put in a circus machine and out poops your Klown Score. The best Klown Score wins.

    p But you've got to stay on top of your game if you want to stay on top of our game.

  audio#faffel(src="assets/faffel.m4a")
  audio#ugh(src="assets/ugh.m4a")
  audio#trombone(src="assets/trombone.m4a")
  //- script(src="//platform.twitter.com/widgets.js", charset="utf-8")
